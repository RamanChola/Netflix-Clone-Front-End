{"version":3,"sources":["pages/register/Register.jsx","authContext/apiCalls.js","pages/login/Login.jsx","App.jsx","index.js","authContext/AuthReducer.js","authContext/AuthContext.js","authContext/AuthActions.js"],"names":["Register","useState","error","setError","useForm","register","handleSubmit","onSubmit","data","a","axios","post","process","email","history","push","setEmail","useHistory","emailRef","useRef","className","src","alt","IconButton","color","aria-label","onClick","to","style","position","top","right","backgroundColor","border","borderRadius","padding","fontSize","fontWeight","cursor","type","placeholder","required","e","preventDefault","current","value","ref","login","user","dispatch","loginStart","res","loginSuccess","loginFailure","Login","useContext","AuthContext","textDecoration","Home","React","lazy","Watch","App","fallback","LinearProgress","exact","path","ReactDOM","render","StrictMode","document","getElementById","AuthReducer","state","action","isFetching","payload","INITIAL_STATE","JSON","parse","localStorage","getItem","createContext","AuthContextProvider","children","useReducer","useEffect","setItem","stringify","Provider","logout"],"mappings":"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","file":"static/js/main.6999728a.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport axios from \"axios\";\r\nimport { useRef } from \"react\";\r\nimport { useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Link } from \"react-router-dom\";\r\nimport CancelIcon from \"@material-ui/icons/Cancel\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport \"./register.scss\";\r\n\r\nexport default function Register() {\r\n  const [error, setError] = useState(null);\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n  } = useForm();\r\n  const onSubmit = async (data) => {\r\n    try {\r\n      await axios.post(`${process.env.REACT_APP_BACKEND_URL}/auth/register`, { email, ...data });\r\n      history.push(\"/login\");\r\n    } catch (err) {\r\n      setError(err);\r\n    }\r\n  };\r\n  const [email, setEmail] = useState(\"\");\r\n  const history = useHistory();\r\n  const emailRef = useRef();\r\n\r\n  const handleStart = () => {\r\n    setEmail(emailRef.current.value);\r\n  };\r\n\r\n  return (\r\n    <div className=\"register\">\r\n      <div className=\"top\">\r\n        <div className=\"wrapper\">\r\n          <img\r\n            className=\"logo\"\r\n            src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/0/08/Netflix_2015_logo.svg/2560px-Netflix_2015_logo.svg.png\"\r\n            alt=\"\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"container\">\r\n        {error && (\r\n          <div className=\"error\">\r\n            <p className=\"error-message\">user registeration failed </p>\r\n            <IconButton\r\n              color=\"secondary\"\r\n              aria-label=\"CancelIcon\"\r\n              onClick={() => setError(null)}\r\n            >\r\n              <CancelIcon />\r\n            </IconButton>\r\n          </div>\r\n        )}\r\n        <h1>Unlimited movies, TV shows, and more.</h1>\r\n        <h2>Watch anywhere. Cancel anytime.</h2>\r\n        <p>\r\n          Ready to watch? Enter your email to create or restart your membership.\r\n        </p>\r\n        <Link to=\"/login\">\r\n          <button\r\n            style={{\r\n              position: \"absolute\",\r\n              top: \"18px\",\r\n              right: \"22px\",\r\n              backgroundColor: \"red\",\r\n              border: \"none\",\r\n              color: \"white\",\r\n              borderRadius: \"5px\",\r\n              padding: \"5px 15px\",\r\n              fontSize: \"16px\",\r\n              fontWeight: \"500\",\r\n              cursor: \"pointer\",\r\n            }}\r\n          >\r\n            Sign In\r\n          </button>\r\n        </Link>\r\n        {!email ? (\r\n          <form\r\n            className=\"input\"\r\n            onSubmit={(e) => {\r\n              e.preventDefault();\r\n              handleStart();\r\n              emailRef.current.value = \"\";\r\n            }}\r\n          >\r\n            <input\r\n              type=\"email\"\r\n              placeholder=\"email address\"\r\n              ref={emailRef}\r\n              required\r\n            />\r\n            <button className=\"registerButton\">Get Started</button>\r\n          </form>\r\n        ) : (\r\n          <form className=\"input\" onSubmit={handleSubmit(onSubmit)}>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"username\"\r\n              {...register(\"username\", { required: true })}\r\n              required\r\n            />\r\n            <input\r\n              type=\"password\"\r\n              placeholder=\"password\"\r\n              {...register(\"password\", { required: true })}\r\n              required\r\n            />\r\n            <button className=\"registerButton\" type=\"submit\">\r\n              Start\r\n            </button>\r\n          </form>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import axios from \"axios\";\r\nimport { loginFailure, loginStart, loginSuccess } from \"./AuthActions\";\r\n\r\nexport const login = async (user, dispatch) => {\r\n  dispatch(loginStart());\r\n  try {\r\n    const res = await axios.post(\r\n      `${process.env.REACT_APP_BACKEND_URL}/auth/login`,\r\n      user\r\n    );\r\n    dispatch(loginSuccess(res.data));\r\n  } catch (err) {\r\n    dispatch(loginFailure());\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useContext} from \"react\";\r\nimport { login } from \"../../authContext/apiCalls\";\r\nimport { AuthContext } from \"../../authContext/AuthContext\";\r\nimport \"./login.scss\";\r\nimport ErrorIcon from \"@material-ui/icons/Error\";\r\n\r\nexport default function Login() {\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n  } = useForm();\r\n\r\n  const { dispatch, error } = useContext(AuthContext);\r\n  const onSubmit = (data) => {\r\n    login(data, dispatch);\r\n  };\r\n  return (\r\n    <div className=\"login\">\r\n      <div className=\"top\">\r\n        <div className=\"wrapper\">\r\n          <img\r\n            className=\"logo\"\r\n            src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/0/08/Netflix_2015_logo.svg/2560px-Netflix_2015_logo.svg.png\"\r\n            alt=\"\"\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className=\"container\">\r\n        {error && (\r\n          <div className=\"error\">\r\n            <ErrorIcon color=\"secondary\"/>\r\n            <p className=\"error-message\">Incorrect Email or Password </p>\r\n          </div>\r\n        )}\r\n        <form onSubmit={handleSubmit(onSubmit)}>\r\n          <h1>Sign In</h1>\r\n          <input\r\n            type=\"email\"\r\n            placeholder=\"Email\"\r\n            {...register(\"email\", { required: true })}\r\n            required\r\n          />\r\n          <input\r\n            type=\"password\"\r\n            placeholder=\"Password\"\r\n            {...register(\"password\", { required: true })}\r\n            required\r\n          />\r\n          <button className=\"loginButton\">Sign In</button>\r\n          <span>\r\n            New to Netflix?\r\n            <Link to=\"/register\" style={{ textDecoration: \"none\" }}>\r\n              <b>Sign up now.</b>\r\n            </Link>\r\n          </span>\r\n          <small>\r\n            This page is protected by Google reCAPTCHA to ensure you're not a\r\n            bot. <b>Learn more</b>.\r\n          </small>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { Suspense } from \"react\";\r\nimport \"./app.scss\";\r\nimport Register from \"./pages/register/Register\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Redirect,\r\n} from \"react-router-dom\";\r\nimport { useContext } from \"react\";\r\nimport { AuthContext } from \"./authContext/AuthContext\";\r\nimport Login from \"./pages/login/Login\";\r\nimport { LinearProgress } from \"@material-ui/core\";\r\nconst Home = React.lazy(() => import(\"./pages/home/Home\"));\r\nconst Watch = React.lazy(() => import(\"./pages/watch/Watch\"));\r\n\r\nconst App = () => {\r\n  const { user } = useContext(AuthContext);\r\n  return (\r\n    <Router>\r\n      <Suspense\r\n        fallback={\r\n          <div>\r\n            <LinearProgress color=\"secondary\" />\r\n          </div>\r\n        }\r\n      >\r\n        <Switch>\r\n          <Route exact path=\"/\">\r\n            {user ? <Home /> : <Redirect to=\"/register\" />}\r\n          </Route>\r\n          <Route path=\"/register\">\r\n            {!user ? <Register /> : <Redirect to=\"/\" />}\r\n          </Route>\r\n          <Route path=\"/login\">{!user ? <Login /> : <Redirect to=\"/\" />}</Route>\r\n          {user && (\r\n            <Switch>\r\n              <Route path=\"/movies\">\r\n                <Home type=\"movie\" />\r\n              </Route>\r\n              <Route path=\"/series\">\r\n                <Home type=\"series\" />\r\n              </Route>\r\n              <Route path=\"/watch\">\r\n                <Watch />\r\n              </Route>\r\n            </Switch>\r\n          )}\r\n        </Switch>\r\n      </Suspense>\r\n    </Router>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport { AuthContextProvider } from \"./authContext/AuthContext\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <AuthContextProvider>\r\n      <App />\r\n    </AuthContextProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n","const AuthReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"LOGIN_START\":\r\n      return {\r\n        user: null,\r\n        isFetching: true,\r\n        error: false,\r\n      };\r\n    case \"LOGIN_SUCCESS\":\r\n      return {\r\n        user: action.payload,\r\n        isFetching: false,\r\n        error: false,\r\n      };\r\n    case \"LOGIN_FAILURE\":\r\n      return {\r\n        user: null,\r\n        isFetching: false,\r\n        error: true,\r\n      };\r\n    case \"LOGOUT\":\r\n      return {\r\n        user: null,\r\n        isFetching: false,\r\n        error: false,\r\n      };\r\n    default:\r\n      return { ...state };\r\n  }\r\n};\r\n\r\nexport default AuthReducer;\r\n","import { createContext, useEffect, useReducer } from \"react\";\r\nimport AuthReducer from \"./AuthReducer\";\r\n\r\nconst INITIAL_STATE = {\r\n  user: JSON.parse(localStorage.getItem(\"user\")) || null,\r\n  isFetching: false,\r\n  error: false,\r\n};\r\n\r\nexport const AuthContext = createContext(INITIAL_STATE);\r\n\r\nexport const AuthContextProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(AuthReducer, INITIAL_STATE);\r\n  useEffect(() => {\r\n    localStorage.setItem(\"user\", JSON.stringify(state.user));\r\n    return () => {};\r\n  }, [state.user]);\r\n  return (\r\n    <AuthContext.Provider\r\n      value={{\r\n        user: state.user,\r\n        isFetching: state.isFetching,\r\n        error: state.error,\r\n        dispatch,\r\n      }}\r\n    >\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n","export const loginStart = () => ({\r\n  type: \"LOGIN_START\",\r\n});\r\nexport const loginSuccess = (user) => ({\r\n  type: \"LOGIN_SUCCESS\",\r\n  payload: user,\r\n});\r\nexport const loginFailure = () => ({\r\n  type: \"LOGIN_FAILURE\",\r\n});\r\nexport const logout = () => ({\r\n  type: \"LOGOUT\",\r\n});\r\n"],"sourceRoot":""}